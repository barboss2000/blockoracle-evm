<!-- ВСТАВЛЯЙ ВЕСЬ ФАЙЛ ЦЕЛИКОМ -->
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Prediction Market Pro</title>

<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>

<style>
body { background:#0b1220; color:white; font-family:Arial; text-align:center; }
.card { background:#1b2438; padding:30px; border-radius:15px; width:450px; margin:auto; }
button { padding:10px; margin:5px; border-radius:8px; border:none; cursor:pointer; }
.green{background:#1db954;color:white;}
.red{background:#e84142;color:white;}
.blue{background:#5865f2;color:white;}
.yellow{background:#f1c40f;}
select,input{padding:6px;border-radius:6px;border:none;}
</style>
</head>

<body>

<h2>BTC Prediction Market</h2>

<!-- TradingView Graph -->
<div>
<script src="https://s3.tradingview.com/tv.js"></script>
<script>
new TradingView.widget({
  "container_id": "tv_chart",
  "symbol": "BINANCE:BTCUSDT",
  "interval": "5",
  "timezone": "Etc/UTC",
  "theme": "dark",
  "style": "1",
  "locale": "en",
  "width": "100%",
  "height": "400"
});
</script>
<div id="tv_chart"></div>
</div>

<br>

<div class="card">

<p><b>Wallet:</b> <span id="wallet">Not connected</span></p>

<select id="tokenSelect">
<option value="ETH">ETH</option>
<option value="USDT">USDT</option>
</select>

<br><br>

<input id="amount" type="number" placeholder="Amount" step="0.01"/>

<br>

<button class="green" onclick="betUp()">Bet UP</button>
<button class="red" onclick="betDown()">Bet DOWN</button>

<br>
<button class="blue" onclick="connect()">Connect</button>

</div>

<script>

const contractAddress = "PASTE_NEW_CONTRACT_ADDRESS_HERE";

const abi = [
 "function betUp() payable",
 "function betDown() payable",
 "function betUpToken(address,uint256)",
 "function betDownToken(address,uint256)"
];

let provider, signer, contract;

async function connect(){
 provider = new ethers.providers.Web3Provider(window.ethereum);
 await provider.send("eth_requestAccounts",[]);
 signer = provider.getSigner();
 contract = new ethers.Contract(contractAddress,abi,signer);
 document.getElementById("wallet").innerText = await signer.getAddress();
}

async function betUp(){
 const token = document.getElementById("tokenSelect").value;
 const amount = document.getElementById("amount").value;

 if(token==="ETH"){
  await contract.betUp({value: ethers.utils.parseEther(amount)});
 } else {
  alert("USDT requires approve logic (add token address)");
 }
}

async function betDown(){
 const token = document.getElementById("tokenSelect").value;
 const amount = document.getElementById("amount").value;

 if(token==="ETH"){
  await contract.betDown({value: ethers.utils.parseEther(amount)});
 } else {
  alert("USDT requires approve logic");
 }
}

</script>

</body>
</html>
